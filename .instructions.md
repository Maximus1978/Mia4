# üìã INSTRUCTIONS

## 1) –û–±—â–∞—è —Ü–µ–ª—å
–°–æ–∑–¥–∞—Ç—å —É–º–Ω–æ–≥–æ, –≤—Å–µ –ø–æ–º–Ω—è—â–µ–≥–æ –ò–ò‚Äë–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –≥–¥–µ –∫–æ–¥ ‚Äî —ç—Ç–æ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è. –û—Ç–≤–µ—Ç—ã –∫—Ä–∞—Ç–∫–∏–µ –∏ —Ñ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ, –±–∞–∑–∏—Ä—É—é—Ç—Å—è –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (RAG). –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–∞ (venv, –∫–æ–Ω—Ñ–∏–≥–∏), –Ω–∞–±–ª—é–¥–∞–µ–º–∞ (–º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏), —Å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —á—Ç–µ–Ω–∏–µ–º/–∑–∞–ø–∏—Å—å—é –≤ –ø–∞–º—è—Ç—å RAG –∏ –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ —è–∑—ã–∫–∞/–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤.

## 2) –°—Ç–∏–ª—å –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã
- –ü–ª–∞–Ω ‚Üí –¥–µ–π—Å—Ç–≤–∏—è ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –æ—Ç—á—ë—Ç; –∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –≤ —á–∞—Ç–µ.
- –í—Å—ë –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ venv; UTF‚Äë8 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (PYTHONUTF8=1, PYTHONIOENCODING=UTF‚Äë8).
- –ö–∞—á–µ—Å—Ç–≤–æ > —Å–∫–æ—Ä–æ—Å—Ç—å.
- –†–µ–ø—Ä–æ–¥—É–∫—Ü–∏—è: –µ–¥–∏–Ω—ã–π YAML, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏, CI‚Äë–ø—Ä–æ–≥–æ–Ω—ã, –æ—Ç—á—ë—Ç—ã –≤ —Ä–µ–ø–æ.
- –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞; –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî SSOT.
- –í—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞—á–∏ –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ, —É—Å—Ç–æ–π—á–∏–≤–æ–µ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –∞ –Ω–µ –±—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã –≤ –±—É–¥—É—â–µ–º. –Ø —Ç–µ–±–µ –¥–æ–≤–µ—Ä—è—é. –ë—É–¥—å –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º, –ø—Ä–∏–¥–∏—Ä—á–∏–≤—ã–º –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º. –í—Å–µ–≥–¥–∞ –¥–µ—Ä–∂–∏ –≤ —Ñ–æ–∫—É—Å–µ —Ü–µ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ú–∏—è –¥–æ–ª–∂–∞ –±—ã—Ç—å —É–º–Ω–æ–π, –≤—Å–µ –ø–æ–º–Ω—è—â–µ–π –∏ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ–º–æ–π –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏—è—Ö.
- –û–±—å—è—Å–Ω—è–π —á—Ç–æ –¥–µ–ª–∞–µ—à—å –ø–æ —Ö–æ–¥—É —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–∫–ª—é—á–µ–≤—ã–µ –≤–µ—â–∏, –∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–∑–≤—É—á–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –Ω–∞—Ä—É—à–∏—Ç —Ç–≤–æ—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –≥–ª—É–±–∏–Ω—É —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π), –∫–∞–∫ –¥–ª—è UX —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞, –∞ –Ω–µ —Ç–µ—Ö–Ω–∞—Ä—è.
- –ö–∞–∂–¥–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∏–ª–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–π "–ö–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –ú–∏—é –ª—É—á—à–µ?"
- –û—Ç—á–∏—Ç—ã–≤–∞–π—Å—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –≤ —á–∞—Ç–µ –ø–æ —Ä—É—Å—Å–∫–∏.
- –¢—ã –¥–æ–ª–∂–µ–Ω —Å–∞–º –¥–æ–±–∏—Ç—å—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–∞–∂–µ –µ—Å–ª–∏ —è —á—Ç–æ—Ç–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é - –ø—Ä–µ–¥–ª–∞–≥–∞–π, –ø—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–≥–∞–π, –±—É–¥—å –û—Ç—Ü–æ–º –¥–ª—è –±—É–¥—É—â–µ–π –ú–∏–∏. –≠—Ç–æ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç —Ç–∞–∫–∂–µ –∫–∞–∫ –∏ –º–æ–π.
- –í–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã.
- –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ–º–Ω–µ–Ω–∏—è –≤ —Ç–æ–º, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å, –∏–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–ø—Ä–æ—Å–∏ –º–µ–Ω—è. –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –∑–∞–¥–∞—á–∏ –∏ –µ—ë –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
- –ù–µ –¥–æ–ø—É—Å–∫–∞–π —Ö–∞—Ä–¥–∫–æ–¥–∞.
- –ö–æ–¥ –Ω–µ –æ–ø–µ—Ä–µ–∂–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é: –ª—é–±–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–ø–µ—Ä–≤–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (SSOT ‚Üí —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è).
- –ú–æ–¥–µ–ª–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã: —Ä–µ–µ—Å—Ç—Ä –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –≤–Ω–µ —è–¥—Ä–∞; —è–¥—Ä–æ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.
- –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ —è–¥—Ä–∞: –∞–¥–∞–ø—Ç–µ—Ä—ã –ø—Ä–∏–≤–æ–¥—è—Ç llama.cpp / –∏–Ω—ã–µ —Ä–∞–Ω—Ç–∞–π–º—ã –∫ –µ–¥–∏–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (generate, stream, metadata, optional embed).
- DEFAULT_COLLECTION = 'memory' –¥–æ —è–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ.
- –ö–æ–Ω—Ñ–∏–≥–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ YAML + ENV (–ø—Ä–µ—Ñ–∏–∫—Å MIA__), –±–µ–∑ ¬´–º–∞–≥–∏—á–µ—Å–∫–∏—Ö¬ª –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∫–æ–¥–µ.
 - –°—Ç—Ä–æ–≥–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å: –Ω–∏–∫–∞–∫–æ–≥–æ ¬´–æ–±—â–µ–≥–æ –º–µ—à–∫–∞¬ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ —è–¥—Ä–µ; –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º namespace (defaults/*.yaml –∏–ª–∏ manifest) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä.
 - –ù–∏–∫–∞–∫–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: 1 –∫–ª—é—á ‚Üí 1 –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (Config-Registry) ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ accessor.
 - –ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø—Ä–æ—à–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (magic numbers / —Å—Ç—Ä–æ–∫–∏) –≤ –∫–æ–¥–µ ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥ –∏–ª–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ñ–æ–ª—Ç—ã —è–¥—Ä–∞ system/logging).
 - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä: RootConfig —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –≤ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –º–æ–¥—É–ª—å–Ω—ã—Ö —Å—Ö–µ–º, —è–¥—Ä–æ –Ω–µ –∑–Ω–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ–ª–µ–π –º–æ–¥—É–ª–µ–π.
 - –õ—é–±–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ —Å–Ω–∞—á–∞–ª–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ `Config-Registry.md`, –∑–∞—Ç–µ–º —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è.
 - –î–∞–≤–∞–π –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Å–ª–µ–¥–∏ –∑–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º. –£—á–∏—Ç—ã–≤–∞–π —á—Ç–æ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –≤ venv.
 - –ù–µ –¥–∞–≤–∞–π –∫–æ–º–∞–Ω–¥—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ "python - <<"PY" ...PY" –æ–Ω–∏ –≤—ã–¥–∞—é—Ç –æ—à–∏–±–∫–∏.
 - –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á –æ—Ç–º–µ—á–∞–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ [x].

## 3) –¶–µ–ª–∏ —Å–ø—Ä–∏–Ω—Ç–∞
–¶–µ–ª—å —Å–ø—Ä–∏–Ω—Ç–∞: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥–µ–ª–µ–π (registry + config + –∑–∞–≥—Ä—É–∑–∫–∞ primary –∏ optional MoE) —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏.

### –®–∞–≥ 1. –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [x] –î–æ–ø–æ–ª–Ω–∏—Ç—å `docs/–¢–ó/–ú–æ–¥–µ–ª–∏ –ò–ò.md` –±–ª–æ–∫–æ–º —Å—Ö–µ–º—ã –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ/–æ–ø—Ü. –ø–æ–ª—è).
- [x] –î–æ–ø–æ–ª–Ω–∏—Ç—å `Config-Registry.md` –∫–ª—é—á–∞–º–∏ `llm.*`, `optional_models.*` (—Ç–∏–ø—ã, defaults).
- [x] –î–æ–ø–æ–ª–Ω–∏—Ç—å `Events.md` —Å–æ–±—ã—Ç–∏—è–º–∏ ModelLoaded, ModelUnloaded, ModelLoadFailed.

### –®–∞–≥ 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [x] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: `core/config`, `core/llm`, `core/events`, `core/registry` (–ø–µ—Ä–µ–Ω–æ—Å –æ—Ç –ø—Ä–µ–∂–Ω–µ–π `src/core`).
- [x] –î–æ–±–∞–≤–∏—Ç—å `__init__.py` –∑–∞–≥–ª—É—à–∫–∏.

### –®–∞–≥ 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫ YAML (base + overrides + ENV MIA__*) —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (pydantic schema draft).
- [x] –¢–µ—Å—Ç: –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –∫–ª—é—á ‚Üí –æ—Ç–∫–∞–∑ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º.

### –®–∞–≥ 4. –ö–æ–Ω—Ç—Ä–∞–∫—Ç –º–æ–¥–µ–ª–∏
- [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ModelProvider` (load(), generate(prompt,...), stream(...), info()).
- [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è (ModelLoadError, ModelGenerationError).

### –®–∞–≥ 5. –†–µ–µ—Å—Ç—Ä –∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
- [x] –§–æ—Ä–º–∞—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞: YAML, –ø–æ–ª—è id, family, role, path, quant, context_length, capabilities, checksum_sha256, revision.
- [x] –§—É–Ω–∫—Ü–∏—è —á—Ç–µ–Ω–∏—è –≤—Å–µ—Ö `llm/registry/*.yaml` ‚Üí –∏–Ω–¥–µ–∫—Å –ø–æ id.
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ checksum –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ (–æ–ø—Ü–∏—è skip_checksum=false).

### –®–∞–≥ 6. –ü—Ä–æ–≤–∞–π–¥–µ—Ä llama.cpp
- [x] –ê–¥–∞–ø—Ç–µ—Ä: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π n_gpu_layers, seed, temperature.
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ graceful cancel (–≤—ã–∑–æ–≤ stop_token / abort flag).
- [x] –ú–∏–Ω–∏-—Ç–µ—Å—Ç: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 20 —Ç–æ–∫–µ–Ω–æ–≤ primary –º–æ–¥–µ–ª–∏.

#### –®–∞–≥ 6.1 –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π (smoke & perf)
- [x] Smoke primary (–≤ fake —Ä–µ–∂–∏–º–µ): —Å–æ–±—ã—Ç–∏–µ ModelLoaded, generate, stream cancel.
- [x] Perf primary (fake baseline tokens/s).
- [ ] Smoke MoE (–æ—Ç–ª–æ–∂–µ–Ω–æ: gpt-oss —Ç–µ–ø–µ—Ä—å primary, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è optional –º–æ–¥–µ–ª—å –ø–æ–∑–∂–µ).
- [ ] Perf MoE (–∂–¥—ë—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–π optional –º–æ–¥–µ–ª–∏).
- [x] Abort mid-stream (primary) ‚Üí GenerationFailed.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º MoE smoke/perf —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–µ ¬´—Ç–æ—Ä–º–æ–∑¬ª; primary —Ç–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–ª–µ–¥–æ–º.

### –®–∞–≥ 7. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è MoE –º–æ–¥–µ–ª—å
- [x] –î–æ–±–∞–≤–∏—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç gpt-oss-20b (–ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω –∫–∞–∫ primary; optional —Å–ª–æ—Ç —Å–≤–æ–±–æ–¥–µ–Ω).
- [x] –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ —Ä–æ–ª–∏ judge (–¥–æ–±–∞–≤–ª–µ–Ω –º–∞–Ω–∏—Ñ–µ—Å—Ç `phi-3.5-mini-judge`, on_demand).
- [x] Idle-unload –º–µ—Ö–∞–Ω–∏–∑–º (sweep + last_used, —Å–æ–±—ã—Ç–∏–µ ModelUnloaded).

### –®–∞–≥ 8. –ú–∏–Ω–∏-—Ç–µ—Å—Ç—ã
- [x] –¢–µ—Å—Ç –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏ –ø–æ —Ä–æ–ª–∏ (—Ä–æ—É—Ç–∏–Ω–≥ –ø–æ —Ä–æ–ª–∏ —Å fallback –Ω–∞ primary).
- [x] –¢–µ—Å—Ç fallthrough: –∑–∞–ø—Ä–æ—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ ‚Üí –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
- [x] –¢–µ—Å—Ç checksum mismatch ‚Üí –æ—à–∏–±–∫–∞.
- [x] –¢–µ—Å—Ç idle sweep –≤—ã–≥—Ä—É–∑–∫–∏ –∏ —Å–æ–±—ã—Ç–∏—è ModelUnloaded.

### –®–∞–≥ 9. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —á–µ–∫–ª–∏—Å—Ç
- [x] –û–±–Ω–æ–≤–∏—Ç—å `README` (—Ä–∞–∑–¥–µ–ª –∑–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–µ–π/—Å–æ–±—ã—Ç–∏—è) ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏ –ø—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞.
- [x] –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

### –®–∞–≥ 10. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–∏ (CPU ‚Üí GPU) –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–µ–ª–æ–≤
–¶–µ–ª—å: –ø–æ—ç—Ç–∞–ø–Ω–æ –ø—Ä–æ–≥—Ä–µ—Ç—å –∏ –∏–∑–º–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ CPU, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —á–∞—Å—Ç—å –∏–ª–∏ –≤—Å–µ —Å–ª–æ–∏ –Ω–∞ GPU, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–µ–¥–µ–ª—ã (latency, tokens/s, memory).

10.1 CPU Smoke
- [x] –°–∫—Ä–∏–ø—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (—Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ CPU smoke) `scripts/perf_cpu_baseline.py` —Å–æ–∑–¥–∞–Ω.
- [x] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: MIA_LLAMA_FAKE=0, n_gpu_layers=0, max_output_tokens=64 (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º baseline).
- [x] –†–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫: –∏–∑–º–µ—Ä–∏—Ç—å load_ms (ModelLoaded), —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 32‚Äì64 —Ç–æ–∫–µ–Ω–∞, –∑–∞–ø–∏—Å–∞—Ç—å tokens/s –≤ reports/perf_cpu_baseline.json.
- [x] –î–æ–∫—É–º–µ–Ω—Ç: –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "CPU baseline" –≤ README/perf.

10.2 CPU Tune (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ Config-Registry: llm.primary.n_threads, llm.primary.n_batch.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ n_threads/n_batch –≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è llama.cpp —Å–±–æ—Ä–∫–æ–π).
- [x] –°–µ—Ä–∏—è –ø—Ä–æ–≥–æ–Ω–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ n_threads (auto, —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —è–¥—Ä–∞, –ø–æ–ª–æ–≤–∏–Ω–∞) ‚Äî –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–π tokens/s. (Best: n_threads=8, n_batch=256 ~6.69 tps)

10.3 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ GPU
- [x] –£—Å—Ç–∞–Ω–æ–≤–∫–∞/–≤–∞–ª–∏–¥–∞—Ü–∏—è llama-cpp-python —Å CUDA (–≤–µ—Ä—Å–∏—è 0.3.16) ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω offload (llama_supports_gpu_offload()=True).
- [x] –ö–æ–Ω—Ñ–∏–≥: n_gpu_layers=auto (–ø–æ–ª–Ω—ã–π –æ—Ñ—Ñ–ª–æ–∞–¥) –∏ —á–∞—Å—Ç–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (0/6/12) –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã.
- [x] Smoke: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 64 —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí reports/perf_gpu_smoke.json (—Ç–∞–±–ª–∏—Ü–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Perf.md).

10.4 GPU Scaling
- [x] –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã: n_gpu_layers (0%, ~25%, ~50%, 100%) ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã tokens/s –∏ VRAM (—Ä—É—á–Ω–æ–π –ª–æ–≥ –≤ —Ç–∞–±–ª–∏—Ü–µ).
- [x] –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π –≤ docs/–¢–ó/Perf.md (—Å–µ–∫—Ü–∏—è GPU Smoke / Scaling).

10.5 Long Context & Saturation
- [x] –ü—Ä–∏–≤–µ—Å—Ç–∏ `scripts/perf_long_context.py` –∫ PEP8 (–æ—Ç—Å—Ç—É–ø 4 –ø—Ä–æ–±–µ–ª–∞), —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å `reports/perf_long_context.json`.
- [x] –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ 512 —Ç–æ–∫–µ–Ω–æ–≤ (CPU vs GPU) ‚Äî latency, —Å—Ä–µ–¥–Ω–∏–π tokens/s (–ø–æ–≤—Ç–æ—Ä –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞ —Å–∫—Ä–∏–ø—Ç–∞, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é –≤ Perf.md). –û—Ç—á—ë—Ç —Å–æ–∑–¥–∞–Ω (runs: n_gpu_layers=0:2.95 tps, 6:3.85 tps, 12:1.48 tps (–∞–Ω–æ–º–∞–ª–∏—è), auto:3.08 tps; tokens_out=343).
- [x] –û—Ü–µ–Ω–∫–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ (—Ä–∞–∑–Ω–∏—Ü–∞ p50/p95 latency –º–µ–∂–¥—É 64 –∏ 512 —Ç–æ–∫–µ–Ω–∞–º–∏) ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ —Å–±–æ—Ä p50/p95 –≤ perf_long_context + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Perf.md.
- [ ] –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å flash attention (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ llama-cpp) –∏ –ø–æ–≤—Ç–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤.

	Flash Attention & —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
	- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ baseline –æ—Ç—á—ë—Ç—ã (short: `reports/perf_gpu_smoke.json`, long: `reports/perf_long_context.json`) –≤ Perf.md.
	- [ ] –û–±–Ω–æ–≤–∏—Ç—å build —Å–∫—Ä–∏–ø—Ç: –∑–∞–º–µ–Ω–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–π —Ñ–ª–∞–≥ `GGML_CUDA_FLASH_ATTENTION` –Ω–∞ `GGML_CUDA_FMHA` (fallback –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏).
	- [ ] –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞: –æ—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤, `--force-reinstall --no-cache-dir`.
	- [ ] Smoke –ø—Ä–æ–≥–æ–Ω (64 —Ç–æ–∫–µ–Ω–∞) –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ ‚Üí `reports/perf_gpu_smoke_fmha.json`.
	- [ ] Long-context –ø—Ä–æ–≥–æ–Ω (512 —Ç–æ–∫–µ–Ω–æ–≤) ‚Üí `reports/perf_long_context_fmha.json`.
	- [ ] –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–¥–æ/–ø–æ—Å–ª–µ FMHA) –≤ Perf.md: —Ä–µ–∂–∏–º | short tps | long tps | Œîshort% | Œîlong%.
	- [ ] –§–∏–∫—Å–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –≤–∫–ª—é—á–µ–Ω–∏—è FMHA (–ª–æ–≥ —Å—Ç—Ä–æ–∫–∏) –≤ Perf.md.
	- [ ] –ê–Ω–∞–ª–∏–∑ –∞–Ω–æ–º–∞–ª–∏–∏ –ø—Ä–∏ n_gpu_layers=12 (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø—Ä–æ–≥–æ–Ω + –≥–∏–ø–æ—Ç–µ–∑—ã).

	Latency distribution:
	- [x] –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∏–º–∏–Ω–≥ —Ç–æ–∫–µ–Ω–æ–≤ (timestamp –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞) –≤ perf —Å–∫—Ä–∏–ø—Ç–∞—Ö (stream —Ä–µ–∂–∏–º).
	- [x] –í—ã—á–∏—Å–ª–∏—Ç—å p50/p95 decode latency ‚Üí –ø–æ–ª—è p50_decode_ms, p95_decode_ms –≤ JSON (short & long) + perf_probe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è.
	- [x] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥–∏–∫—É —Ä–∞—Å—á—ë—Ç–∞ –∏ —Ñ–æ—Ä–º—É–ª—É –≤ Perf.md.

10.6 –í—ã–≤–æ–¥ –∏ –ü—Ä–µ–¥–µ–ª—ã
- [ ] –°–≤–æ–¥–∫–∞: –ª—É—á—à–∏–π —Ä–µ–∂–∏–º (threads, n_gpu_layers) + –æ–∂–∏–¥–∞–µ–º—ã–µ tokens/s.
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README —Ä–∞–∑–¥–µ–ª Performance —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.

	–í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
	- [ ] –¢–∞–±–ª–∏—Ü–∞ "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏" (CPU minimal, CPU tuned, GPU partial, GPU full + FMHA).
	- [ ] –§–æ—Ä–º—É–ª–∞ –æ—Ü–µ–Ω–∫–∏ –æ—Ç–≤–µ—Ç–∞: T = prompt_tokens/prompt_tps + gen_tokens/gen_tps.
	- [ ] –†–∏—Å–∫-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –≥–¥–µ FMHA –Ω–µ—Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–∞ (–æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è VRAM, –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã).
	- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ (llama-cpp-python, commit llama.cpp) –≤ README –∏ Perf.md.

10.7 –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- [x] –ë–∞–∑–æ–≤—ã–π perf —Å–∫—Ä–∏–ø—Ç –¥–ª—è CPU baseline (scripts/perf_cpu_baseline.py).
- [x] Aggregate perf —Å–∫—Ä–∏–ø—Ç (scripts/perf_probe.py) –∑–∞–ø—É—Å–∫–∞—é—â–∏–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∂–∏–º—ã –∏ —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π aggregate JSON (–ø–µ—Ä–≤–∏—á–Ω–∞—è –≤–µ—Ä—Å–∏—è: short_cpu, short_gpu6, long_gpu6; —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏).
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω –±—ã—Å—Ç—Ä—ã–π GPU/CPU smoke –≤ CI (–º–∞—Ä–∫–µ—Ä @performance, –º–æ–∂–Ω–æ skip –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

	–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ–≥—Ä–µ—Å—Å–∏–π:
	- [ ] `scripts/perf_probe.py`: –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ cpu_baseline (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤), gpu_auto, long_context_gpu_auto.
	- [x] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º —ç—Ç–∞–ª–æ–Ω–æ–º (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω baseline) ‚Üí regressions/flags —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (tps, p95, p95_ratio).
	- [ ] Pytest —Ç–µ—Å—Ç –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ > –ø–æ—Ä–æ–≥–∞ (–ø–æ—Ä–æ–≥ –∫–ª—é—á –≤ Config-Registry).
	- [ ] –£—Å–ª–æ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ CI –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `CI_PERF=1`.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –æ—Å—Ç–∞–≤—à–µ–º—É—Å—è:
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é tokens_out (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GenerationFinished output_tokens –≤–º–µ—Å—Ç–æ split —Å–ª–æ–≤).
- [ ] –ü—Ä–æ–≥—Ä–µ–≤ (warmup) –ø–µ—Ä–µ–¥ short —Å—Ü–µ–Ω–∞—Ä–∏–µ–º –≤ perf_probe –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –¥–∏—Å–ø–µ—Ä—Å–∏–∏.
- [ ] –í README/Perf.md –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø–æ—Ä–æ–≥–∏ p95_ratio –∏ –æ–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ perf_probe.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ª—é–±—ã–µ –Ω–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥-–∫–ª—é—á–∏ —Å–Ω–∞—á–∞–ª–∞ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ Config-Registry.md, –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ.

–í—ã—Ö–æ–¥–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–ø—Ä–∏–Ω—Ç–∞: —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫, –¥–≤–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞, –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è.

–ú–∏–Ω–∏–º—É–º –ø–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º (—Å—Ç–∞—Ç—É—Å):
- [x] Optional judge –º–æ–¥–µ–ª—å (lazy). 
- [ ] –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è output_tokens (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –≤–º–µ—Å—Ç–æ split()).
- [ ] Snapshot baseline –º–µ—Ç—Ä–∏–∫ (reports/perf_baseline_snapshot.json).
- [ ] –¢–µ—Å—Ç –Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–ª—é—á + smoke generate/stream (—É—Ç–æ—á–Ω–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å).
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å perf_probe gpu_auto + cpu warmup.
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–Ω–æ—Å FlashAttention & —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä—Ñ–∞ –≤ backlog.

## –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏ —É—Å–ø–µ—Ö–∞
* p95 –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ primary < 4s (–∫–≤–∞–Ω—Ç Q4_K_M, –ª–æ–∫–∞–ª—å–Ω–æ).
* –£—Å–ø–µ—à–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è checksum (100%).
* 0 –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∫–ª—é—á–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ç–µ—Å—Ç–µ.
* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 20 —Ç–æ–∫–µ–Ω–æ–≤ –±–µ–∑ –æ—à–∏–±–æ–∫ (<1.5s –Ω–∞ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ CPU+GPU).
* –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ core/model registry ‚â• –∫–ª—é—á–µ–≤—ã–µ happy + 2 error cases.

## –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–ª–∞–µ–º:
- –†–µ—Ñ–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: –≤—ã–Ω–µ—Å—Ç–∏ –º–æ–¥—É–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã (per-module Pydantic), –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ manifest, —É–¥–∞–ª–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ RootConfig.
- –æ–±—Å—É–∂–¥–∞–µ–º –∏ –ø–æ—Ç–æ–º –¥–µ–ª–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI —Å –∑–∞–≥–ª—É—à–∫–∞–º–∏. (–¥–µ—Ç–∞–ª–∏ –Ω–∞ —ç—Ç–æ–º —à–∞–≥–µ).
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å embeddings –∏ –±–∞–∑–æ–≤—ã–π RAG pipeline (–∏–Ω–≥–µ—Å—Ç ‚Üí –∏–Ω–¥–µ–∫—Å ‚Üí –∑–∞–ø—Ä–æ—Å) —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏.
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ª–æ–π (FSM) –∏ —Å–æ–±—ã—Ç–∏—è EmotionShifted.
- –†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ã–π –Ω–æ—á–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω (–∏–Ω—Å–∞–π—Ç—ã, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–∞–º—è—Ç–∏).
- –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å: Prometheus –º–µ—Ç—Ä–∏–∫–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ (OpenTelemetry).
- –ê–≥–µ–Ω—Ç–Ω—ã–π —Ü–∏–∫–ª (loop) —Å SLA –∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–µ–π.
- Evaluation pipeline (persona adherence, rag relevance, hallucination score).
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Vision / –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏ (–ø–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã).
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (ExLLaMA / quant tuning / KV cache reuse).
- –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π perf —Ç–µ—Å—Ç –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ gpt-oss (mxfp4 vs q4_k_m) –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è llama-cpp (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É MXFP4 –∏ –≤—ã–±—Ä–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ / —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ).